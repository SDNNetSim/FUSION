<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 800">
  <!-- FUSION Simulation Workflow Diagram -->
  <defs>
    <style>
      .step { fill: #3498DB; stroke: #2C3E50; stroke-width: 2; }
      .decision { fill: #E74C3C; }
      .process { fill: #1ABC9C; }
      .input { fill: #F39C12; }
      .output { fill: #9B59B6; }
      .text { font-family: Arial, sans-serif; font-size: 14px; fill: white; text-anchor: middle; }
      .label { fill: #2C3E50; font-size: 12px; }
      .arrow { stroke: #34495E; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495E" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="350" y="30" style="font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; fill: #2C3E50; text-anchor: middle;">FUSION Simulation Workflow</text>

  <!-- Start -->
  <ellipse cx="350" cy="70" rx="60" ry="30" class="step input"/>
  <text x="350" y="77" class="text">Start</text>

  <!-- Load Configuration -->
  <rect x="270" y="130" width="160" height="50" rx="5" class="step input"/>
  <text x="350" y="160" class="text">Load Configuration</text>
  <path d="M 350,100 L 350,130" class="arrow"/>

  <!-- Initialize Network -->
  <rect x="270" y="210" width="160" height="50" rx="5" class="step process"/>
  <text x="350" y="235" class="text">Initialize Network</text>
  <text x="350" y="250" class="label">(Topology, Links)</text>
  <path d="M 350,180 L 350,210" class="arrow"/>

  <!-- Setup SDN Controller -->
  <rect x="270" y="290" width="160" height="50" rx="5" class="step process"/>
  <text x="350" y="315" class="text">Setup SDN Controller</text>
  <text x="350" y="330" class="label">(Load Algorithms)</text>
  <path d="M 350,260 L 350,290" class="arrow"/>

  <!-- Generate Request -->
  <rect x="270" y="370" width="160" height="50" rx="5" class="step process"/>
  <text x="350" y="395" class="text">Generate Request</text>
  <text x="350" y="410" class="label">(Source, Dest, BW)</text>
  <path d="M 350,340 L 350,370" class="arrow"/>

  <!-- Routing Decision -->
  <polygon points="350,470 450,520 350,570 250,520" class="step decision"/>
  <text x="350" y="525" class="text">Find Path?</text>
  <path d="M 350,420 L 350,470" class="arrow"/>

  <!-- No Path - Block -->
  <rect x="50" y="495" width="140" height="50" rx="5" class="step" style="fill: #E67E22;"/>
  <text x="120" y="525" class="text">Block Request</text>
  <path d="M 250,520 L 190,520" class="arrow"/>
  <text x="220" y="510" class="label">No</text>

  <!-- Yes Path - Continue -->
  <text x="470" y="525" class="label">Yes</text>

  <!-- Spectrum Assignment -->
  <rect x="500" y="495" width="160" height="50" rx="5" class="step process"/>
  <text x="580" y="520" class="text">Assign Spectrum</text>
  <path d="M 450,520 L 500,520" class="arrow"/>

  <!-- Check Resources -->
  <polygon points="580,600 650,640 580,680 510,640" class="step decision"/>
  <text x="580" y="635" class="text" style="font-size: 12px;">Resources</text>
  <text x="580" y="650" class="text" style="font-size: 12px;">Available?</text>
  <path d="M 580,545 L 580,600" class="arrow"/>

  <!-- No Resources - Block -->
  <rect x="370" y="615" width="100" height="50" rx="5" class="step" style="fill: #E67E22;"/>
  <text x="420" y="645" class="text">Block</text>
  <path d="M 510,640 L 470,640" class="arrow"/>
  <text x="490" y="630" class="label">No</text>

  <!-- Yes Resources - Establish -->
  <rect x="500" y="720" width="160" height="50" rx="5" class="step process"/>
  <text x="580" y="745" class="text">Establish Connection</text>
  <path d="M 580,680 L 580,720" class="arrow"/>
  <text x="600" y="700" class="label">Yes</text>

  <!-- Update Statistics -->
  <rect x="270" y="720" width="160" height="50" rx="5" class="step output"/>
  <text x="350" y="745" class="text">Update Statistics</text>
  <path d="M 120,545 L 120,745 L 270,745" class="arrow"/>
  <path d="M 420,665 L 420,745 L 430,745" class="arrow"/>
  <path d="M 500,745 L 430,745" class="arrow"/>

  <!-- More Requests? -->
  <polygon points="200,630 270,660 200,690 130,660" class="step decision" style="font-size: 11px;"/>
  <text x="200" y="655" class="text" style="font-size: 11px;">More</text>
  <text x="200" y="670" class="text" style="font-size: 11px;">Requests?</text>
  <path d="M 200,545 L 200,630" class="arrow"/>

  <!-- Yes - Loop back -->
  <path d="M 130,660 L 50,660 L 50,395 L 270,395" class="arrow"/>
  <text x="90" y="650" class="label">Yes</text>

  <!-- No - End -->
  <ellipse cx="200" cy="750" rx="60" ry="30" class="step output"/>
  <text x="200" y="757" class="text">End</text>
  <path d="M 200,690 L 200,720" class="arrow"/>
  <text x="210" y="710" class="label">No</text>

  <!-- Legend -->
  <g transform="translate(20, 20)">
    <rect x="0" y="0" width="15" height="15" class="input"/>
    <text x="20" y="12" class="label">Input/Config</text>

    <rect x="100" y="0" width="15" height="15" class="process"/>
    <text x="120" y="12" class="label">Process</text>

    <rect x="200" y="0" width="15" height="15" class="decision"/>
    <text x="220" y="12" class="label">Decision</text>

    <rect x="300" y="0" width="15" height="15" class="output"/>
    <text x="320" y="12" class="label">Output</text>
  </g>
</svg>
