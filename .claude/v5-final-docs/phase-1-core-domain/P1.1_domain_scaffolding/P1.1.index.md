# P1.1 Domain Scaffolding - Index

**Sub-phase**: P1.1
**Scope**: Phase 1 - Core Domain Model only
**Goal**: Create the `fusion/domain/` package and implement `SimulationConfig`

---

## Objectives

1. Create the `fusion/domain/` package structure with proper `__init__.py`
2. Implement `SimulationConfig` as a frozen dataclass
3. Implement legacy adapters: `from_engine_props()` and `to_engine_props()`
4. Create comprehensive tests achieving 95% coverage

---

## Constraints

- **Additive only**: Do not modify any existing files
- **Frozen dataclass**: `SimulationConfig` must be immutable after creation
- **Roundtrip preservation**: `from_engine_props(d).to_engine_props()` must equal `d` for all valid inputs
- **No signature changes**: Existing code using `engine_props` continues to work unchanged

---

## Micro-Tasks

| Task ID | File | Type | Description |
|---------|------|------|-------------|
| P1.1.a | [P1.1.a_create_domain_package.md](P1.1.a_create_domain_package.md) | refactor-plan | Create package skeleton |
| P1.1.b | [P1.1.b_design_simulation_config.md](P1.1.b_design_simulation_config.md) | design | Design SimulationConfig dataclass |
| P1.1.c | [P1.1.c_implement_config_adapters.md](P1.1.c_implement_config_adapters.md) | refactor-plan | Implement from/to_engine_props |
| P1.1.d | [P1.1.d_verify_config.md](P1.1.d_verify_config.md) | verification-plan | Create tests and verify |

---

## Shared Context

- [P1.1.shared_context_engine_props.md](P1.1.shared_context_engine_props.md) - Summary of current `engine_props` structure

---

## Dependencies

- None (P1.1 is the first sub-phase)

---

## Outputs

After completing all P1.1 micro-tasks:

```
fusion/
├── domain/
│   ├── __init__.py         # Exports: SimulationConfig
│   └── config.py           # SimulationConfig frozen dataclass
└── tests/
    └── domain/
        ├── __init__.py
        └── test_config.py  # 95% coverage
```

---

## Verification

After P1.1 is complete, verify:

```bash
# All tests pass
pytest fusion/tests/domain/test_config.py -v

# Coverage target met
pytest fusion/tests/domain/test_config.py --cov=fusion/domain/config --cov-report=term-missing

# Type checking passes
mypy fusion/domain/config.py

# Linting passes
ruff check fusion/domain/
ruff format --check fusion/domain/

# Existing tests still pass
pytest tests/ -v --ignore=fusion/tests/
```
